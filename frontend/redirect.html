<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>페이지 여는 중...</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding-top: 60px; }
    button {
      padding: 10px 18px;
      font-size: 15px;
      margin-top: 20px;
      border: 1px solid #ccc;
      background: #f4f4f4;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>정책 페이지를 여는 중입니다...</h2>
  <p>일부 보안 설정 때문에 처음 시도에 실패할 수 있어요.<br>잠시 후 자동으로 다시 시도됩니다.</p>
  <button id="retry">🔁 다시 열기</button>

  <script>
    const target = new URLSearchParams(location.search).get('target');

    function tryOpen() {
      if (target) {
        sessionStorage.setItem('lastTarget', target);
        window.open(target, '_blank');
      }
    }

    // 1차 시도
    tryOpen();

    // 2차 자동 재시도 (1.5초 후)
    setTimeout(() => {
      tryOpen();
    }, 1500);

    // 수동 재시도 버튼
    document.getElementById('retry').addEventListener('click', tryOpen);
  </script>
</body>
</html>
